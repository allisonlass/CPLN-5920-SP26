---
title: "Lab 0: Getting Started with dplyr"
# Overview
# Setup
```{r setup}
# Load the tidyverse library
library(tidyverse)
# Load the tidyverse library
library(tidyverse)
# Load the tidyverse library
library(tidyverse)
# Read in the car sales data
# Make sure the data file is in your lab_0/data/ folder
car_data <- read_csv("data/car_sales_data.csv")
# Use glimpse() to see the data structure
glimpse(car_data)
# Look at the first few rows
head(car_data)
# Use glimpse() to see the data structure
glimpse(car_data)
View(car_data)
# Look at the tibble version (what we have)
print(car_data)
load("C:/Users/cheny/Desktop/CPLN 5920 Public Policy Analytics/CPLN-5920-SP26/.RData")
# Select just Model and Mileage columns
select(Model, Mileage)
# Load the tidyverse library
library(tidyverse)
# Select just Model and Mileage columns
select(Model, Mileage)
View(car_data)
View(car_data)
# Use glimpse() to see the data structure
glimpse(car_data)
# Select just Model and Mileage columns
select(Model, Mileage)
# Select just Model and Mileage columns
select(Model, Mileage)
# Select just Model and Mileage columns
select(car_data, Model, Mileage)
# Select Manufacturer, Price, and Fuel type
select(car_data, Manufacturer, Price, Fuel_type)
# Select Manufacturer, Price, and Fuel type
select(car_data, Manufacturer, Price, 'Fuel type')
# Challenge: Select all columns EXCEPT Engine Size
select(car_data, -`Engine size`)
# Rename 'Year of manufacture' to year
rename(year = `Year of manufacture`)
# Rename 'Year of manufacture' to year
rename(year = 'Year of manufacture')
# Select Manufacturer, Price, and Fuel type
select(car_data, Manufacturer, Price, 'Fuel type')
# Select Manufacturer, Price, and Fuel type
select(car_data, Manufacturer, Price, `Fuel type`)
# Rename 'Year of manufacture' to year
rename(year = `Year of manufacture`)
# Rename 'Year of manufacture' to year
rename(car_data, year = `Year of manufacture`)
# Rename 'Year of manufacture' to year
rename(car_data, year = `Year of manufacture`)
# Check that it worked
names(car_data)
car_data <- dplyr
# Rename 'Year of manufacture' to year
car_data <- rename(car_data, year = `Year of manufacture`)
# Check that it worked
names(car_data)
# Create an 'age' column (2025 minus year of manufacture)
mutate(age = 2025 - year)
# Create an 'age' column (2025 minus year of manufacture)
car_data <- car_data %>%
mutate(age = 2025 - year)
# Create a mileage_per_year column
car_data <- car_data %>%
mutate(mileage_per_year = Mileage / age)
# Create a mileage_per_year column
car_data %>% mutate(mileage_per_year = Mileage / age)
# Create an 'age' column (2025 minus year of manufacture)
car_data %>% mutate(age = 2025 - year)
# Look at your new columns
#select(car_data, Model, year, age, Mileage, mileage_per_year)
select(car_data, Model, year, age, Mileage, mileage_per_year)
# Create an 'age' column (2025 minus year of manufacture)
car_data <- mutate(age = 2025 - year)
# Create an 'age' column (2025 minus year of manufacture)
mutate(age = 2025 - year)
# Create an 'age' column (2025 minus year of manufacture)
mutate(car_data, age = 2025 - year)
# Create a mileage_per_year column
mutate(car_data, mileage_per_year = Mileage / age)
# Look at your new columns
#select(car_data, Model, year, age, Mileage, mileage_per_year)
select(car_data, Model, year, age, Mileage, mileage_per_year)
```{r categorize-cars}
# Create a price_category column where if price is < 15000, its is coded as budget, between 15000 and 30000 is midrange and greater than 30000 is mid-range (use case_when)
mutate(car_data, price_category = case_when( Price < 15000 ~ "budget",
between(Price, 15000, 30000) ~ "midrange",
Price > 30000 ~ "luxury"))
car_data <-
car_data <-
# Create a price_category column where if price is < 15000, its is coded as budget, between 15000 and 30000 is midrange and greater than 30000 is mid-range (use case_when)
car_data <- mutate(car_data, price_category = case_when( Price < 15000 ~ "budget",
between(Price, 15000, 30000) ~ "midrange",
Price > 30000 ~ "luxury"))
# Create a price_category column where if price is < 15000, its is coded as budget, between 15000 and 30000 is midrange and greater than 30000 is mid-range (use case_when)
car_data <-
mutate(car_data, price_category = case_when( Price < 15000 ~ "budget",
between(Price, 15000, 30000) ~ "midrange",
Price > 30000 ~ "luxury"))
# Check your categories select the new column and show it
select(car_data, price_category)
# Find cars that are EITHER Honda OR Nissan
toyota_cars <- filter(car_data, Manufacturer == "Toyota")
View(toyota_cars)
# Find cars with price between $20,000 and $35,000
price_$20,000_to_$35,000 <- filter(car_data, price >= 20000 and price <= 35000)
# Find cars with price between $20,000 and $35,000
price_20k_to_35k <- filter(car_data, price >= 20000 and price <= 35000)
# Find cars with price between $20,000 and $35,000
price_20k_to_35k <- filter(car_data, price >= 20000 & price <= 35000)
# Find cars with price between $20,000 and $35,000
price_20k_to_35k <- filter(car_data, Price >= 20000 & Price <= 35000)
View(price_20k_to_35k)
# Find diesel cars less than 10 years old
diesel_under10years <-
filter(car_data, `Fuel type` == "Diesel" & age < 10)
View(diesel_under10years)
glimpse(diesel_under10years)
